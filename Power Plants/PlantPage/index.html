<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="../roots.css">
        <link rel="stylesheet" href='PlantPage.css'>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
              crossorigin="anonymous" referrerpolicy="no-referrer" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" type="image" href="../Images/Moodboard-Design%20etc/Logo%20Design/powerplant_logo_1.png">
        <title>Power Plants</title>
    </head>
    
    <body>
    <header>
        <nav>
            <div class="points">
                <p>Vand: </p>
                <p id="currentPoints">0</p>
            </div>
            <div class="plantName">
                <p>Plante Navn: </p>
                <p id="currentPlant">???</p>
            </div>
            <div class="subject">
                <p>Emne: </p>
                <p id="currentSubject">???</p>
            </div>
        </nav>
    </header>
    
    <div class="plants">
        <img id="plantImage" src="../Images/Plants/Krukke.png">
    </div>
    
    <div class="progressBar">
        <label for="plantProgress">Growth progress:</label>
        <progress id="plantProgress" value="0" max="3"></progress>
    </div>
    
    <div class="buttons">
        <button class="watering" onclick="waterPlant()"><i class="fa-solid fa-droplet"></i></button>
        
        <button class="placePlant" onclick="changeImage()"><i class="fa-solid fa-seedling"></i></button>
        <select class="subjectSelector" id="imageSelector">
            <option value="../Images/Plants/cactus_1.png">Mennesket</option>
            <option value="../Images/Plants/amaryllis_1.png">Sol Systemet</option>
        </select>
    </div>
    
    <a href="../Well/Well.html">
        <button class="button LeftLink"><i class="fa-solid fa-arrow-left"></i></button>
    </a>
    <a href="../Garden/Garden.html">
        <button class="button RightLink"><i class="fa-solid fa-arrow-right"></i></button>
    </a>
    
    
    
    <script>
        function changeImage() {
            var progress = document.getElementById('plantProgress');
            var currentProgress = parseInt(progress.value);
            var points = document.getElementById('currentPoints');
            var currentPoints = parseInt(points.innerHTML);
            var image = document.getElementById('plantImage');
            var selector = document.getElementById('imageSelector');
            image.src = selector.value;
            var plantName = document.getElementById('currentPlant');
            var subject = document.getElementById('currentSubject');
            if (selector.value == "../Images/Plants/cactus_1.png") {
                plantName.innerHTML = "Kaktus";
                subject.innerHTML = "Mennesket";
            } else {
                plantName.innerHTML = "Amaryllis";
                subject.innerHTML = "Sol Systemet";
            }
            currentProgress = 0;
            currentPoints = 0;
            progress.value = currentProgress;
            points.innerHTML = currentPoints;
        }
        
        function waterPlant() {
            var image = document.getElementById('plantImage');
            var progress = document.getElementById('plantProgress');
            var points = document.getElementById('currentPoints');
            var currentPoints = parseInt(points.innerHTML);
            var currentProgress = parseInt(progress.value);
            var currentImage = image.attributes.src.value;
            if ((currentImage !== "../Images/Plants/Krukke.png")     
                && currentPoints > 0 && currentProgress < 3) {
                currentProgress++;
                if (currentProgress === 1 && currentImage === "../Images/Plants/amaryllis_1.png") {
                    image.src = "../Images/Plants/amaryllis_2.png";
                }
                else if (currentProgress === 3 && currentImage === "../Images/Plants/amaryllis_2.png") {
                    image.src = "../Images/Plants/amaryllis_3.png";
                }
                else if (currentProgress === 1 && currentImage === "../Images/Plants/cactus_1.png") {
                    image.src = "../Images/Plants/cactus_2.png";
                }
                else if (currentProgress === 3 && currentImage === "../Images/Plants/cactus_2.png") {
                    image.src = "../Images/Plants/cactus_3.png";
                }
                currentPoints--;
                progress.value = currentProgress; 
                points.innerHTML = currentPoints;
            }
            else if (currentProgress == 3) 
            {
                alert("Planten er fuldt vokset og kan nu plantes i drivhuset");
            }
            else {
                alert("Du har ikke nok vand eller planten er ikke plantet");
            }
        }
    </script>
    
    </body>
</html>